<!DOCTYPE html>
<html lang="en">

<head>
    {% load staticfiles %}
    {% block head %} {% include 'Account/head.html' %} {% endblock %}
    <style>
        html, body, #map {
            width: 100%; height: 100%; padding: 0; margin: 0;
        }
    </style>
</head>

<body class="fix-header fix-sidebar card-no-border">
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /> </svg>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
       {% block topbar %} {% include 'Account/topbar.html' %} {% endblock %}
       {% block sidebar %} {% include 'Account/sidebar.html' %} {% endblock %}
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="row page-titles">
                <div class="col-md-5 align-self-center">
                    <h3 class="text-themecolor">Мой профиль</h3>
                </div>
                <div class="col-md-7 align-self-center">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Личный кабинет</a></li>
                        <li class="breadcrumb-item active">Мой профиль</li>
                    </ol>
                </div>
                <div>
                    <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i class="ti-settings text-white"></i></button>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- Row -->
                <div class="row">
                    <!-- Column -->
                    <div class="col-lg-4 col-xlg-3 col-md-5">
                        <div class="card">
                            <div class="card-body">
                                <center class="m-t-30">
                                    {% if extUser.ava %}
                                            <img src="{{ extUser.ava.url }}" alt="user" class="img-circle" width="150"   />
                                        {% else %}
                                            <img src="{% static 'frontPage/images/1.jpg' %}" alt="user" class="img-circle" width="150" />
                                    {% endif %}

                                    <h4 class="card-title m-t-10">
                                        <h2>{{ coords.l }} {{ coords.p }}</h2>
                                        {% if user.name != "" and user.surname != "" %}
                                            {{user.name}} {{user.surname}}
                                        {% elif user.name != "" %}
                                            {{user.name}}
                                        {% else %}
                                            Ваш профиль
                                        {% endif %}
                                    </h4>
                                </center>
                            </div>
                            <div>
                                <hr> </div>
                            <div class="card-body">
                                <small class="text-muted">E-Mail</small>
                                <h6>{{ user.mail }}</h6>

                                {% if extUser.adress %}
                                    <small class="text-muted p-t-30 db">Адрес</small>
                                    <h6>{{ extUser.adress }}</h6>
                                {% endif %}

                                {% if extUser.phone %}
                                    <small class="text-muted p-t-30 db">Номер телефона</small>
                                    <h6> {{ extUser.phone }} </h6>
                                {% endif %}
                                <!--<small class="text-muted p-t-30 db">Соцсети</small>-->
                                <!--<br/>-->
                                <!--<button class="btn btn-circle btn-secondary"><i class="fa fa-facebook"></i></button>-->
                                <!--<button class="btn btn-circle btn-secondary"><i class="fa fa-vk"></i></button>-->
                                <!--<button class="btn btn-circle btn-secondary"><i class="fa fa-github"></i></button>-->
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                    <!-- Column -->
                    <div class="col-lg-8 col-xlg-9 col-md-7">
                        <div class="card">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs profile-tab" role="tablist">
                                <li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#home" role="tab">Карта</a> </li>
                                <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#profile" role="tab">Данные по дому</a> </li>
                            </ul>
                            <!-- Tab panes -->
                            <div class="tab-content">
                                <div class="tab-pane active" id="home" role="tabpanel">
                                    <div class="card-body">
                                            <div id="map"></div>
                                    </div>
                                </div>
                                <!--second tab-->
                                <div class="tab-pane" id="profile" role="tabpanel">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Адрес</strong>
                                                <br>
                                                <p class="text-muted">Москва, ул. Верхняя, 14</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Год постройки</strong>
                                                <br>
                                                <p class="text-muted">1970</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Этажность</strong>
                                                <br>
                                                <p class="text-muted">9</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6"> <strong>Жилая площадь</strong>
                                                <br>
                                                <p class="text-muted">2805</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <br>
                                        <br>
                                        <p class="m-t-30">Описание дома</p>
                                        <br>
                                        <br>
                                        <h4 class="font-medium m-t-30">Статистика</h4>
                                        <hr>
                                        <h5 class="m-t-30">Процент заполнения показаний по воде<span class="pull-right">73%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-info" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width:80%; height:6px;"> <span class="sr-only">73% Complete</span> </div>
                                        </div>
                                        <h5 class="m-t-30">Процент заполнения показаний по электричеству<span class="pull-right">82%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:90%; height:6px;"> <span class="sr-only">82% Complete</span> </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                </div>
            <!-- Row -->
                {% block rightSideBar %} {% include 'Account/rightSideBar.html' %} {% endblock %}
            </div>
        </div>
    </div>
     <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=3bf848cd-2e51-425f-b303-f2750b171bd6" type="text/javascript"></script>
    <script src="placemark.js" type="text/javascript"></script>
    {% block scripts %} {% include 'Account/scripts.html' %} {% endblock %}

    <script>
       ymaps.ready(init);

function init() {
    var myMap = new ymaps.Map("map", {
            center: [55.76, 37.64],
            zoom: 10
        }, {
            searchControlProvider: 'yandex#search'
        }),

    // Создаем геообъект с типом геометрии "Точка".
        myGeoObject = new ymaps.GeoObject({
            // Описание геометрии.
            geometry: {
                type: "Point",
                coordinates: [55.8, 37.8]
            },
            // Свойства.
            properties: {
                // Контент метки.
                iconContent: 'Я тащусь',
                hintContent: 'Ну давай уже тащи'
            }
        }, {
            // Опции.
            // Иконка метки будет растягиваться под размер ее содержимого.
            preset: 'islands#blackStretchyIcon',
            // Метку можно перемещать.
            draggable: true
        }),
        myPieChart = new ymaps.Placemark([
            55.847, 37.6
        ], {
            // Данные для построения диаграммы.
            data: [
                {weight: 8, color: '#0E4779'},
                {weight: 6, color: '#1E98FF'},
                {weight: 4, color: '#82CDFF'}
            ],
            iconCaption: "Диаграмма"
        }, {
            // Зададим произвольный макет метки.
            iconLayout: 'default#pieChart',
            // Радиус диаграммы в пикселях.
            iconPieChartRadius: 30,
            // Радиус центральной части макета.
            iconPieChartCoreRadius: 10,
            // Стиль заливки центральной части.
            iconPieChartCoreFillStyle: '#ffffff',
            // Cтиль линий-разделителей секторов и внешней обводки диаграммы.
            iconPieChartStrokeStyle: '#ffffff',
            // Ширина линий-разделителей секторов и внешней обводки диаграммы.
            iconPieChartStrokeWidth: 3,
            // Максимальная ширина подписи метки.
            iconPieChartCaptionMaxWidth: 200
        });

    myMap.geoObjects
        .add(myGeoObject)
        .add(myPieChart)
        .add(new ymaps.Placemark([55.684758, 37.738521], {
            balloonContent: 'цвет <strong>воды пляжа бонди</strong>'
        }, {
            preset: 'islands#icon',
            iconColor: '#0095b6'
        }))
        .add(new ymaps.Placemark([55.833436, 37.715175], {
            balloonContent: '<strong>серобуромалиновый</strong> цвет'
        }, {
            preset: 'islands#dotIcon',
            iconColor: '#735184'
        }))
        .add(new ymaps.Placemark([55.687086, 37.529789], {
            balloonContent: 'цвет <strong>влюбленной жабы</strong>'
        }, {
            preset: 'islands#circleIcon',
            iconColor: '#3caa3c'
        }))
        .add(new ymaps.Placemark([55.782392, 37.614924], {
            balloonContent: 'цвет <strong>детской неожиданности</strong>'
        }, {
            preset: 'islands#circleDotIcon',
            iconColor: 'yellow'
        }))
        .add(new ymaps.Placemark([55.642063, 37.656123], {
            balloonContent: 'цвет <strong>красный</strong>'
        }, {
            preset: 'islands#redSportIcon'
        }))
        .add(new ymaps.Placemark([55.826479, 37.487208], {
            balloonContent: 'цвет <strong>фэйсбука</strong>'
        }, {
            preset: 'islands#governmentCircleIcon',
            iconColor: '#3b5998'
        }))
        .add(new ymaps.Placemark([55.694843, 37.435023], {
            balloonContent: 'цвет <strong>носика Гены</strong>',
            iconCaption: 'Очень длиннный, но невероятно интересный текст'
        }, {
            preset: 'islands#greenDotIconWithCaption'
        }))
        .add(new ymaps.Placemark([55.790139, 37.814052], {
            balloonContent: 'цвет <strong>голубой</strong>',
            iconCaption: 'Очень длиннный, но невероятно интересный текст'
        }, {
            preset: 'islands#blueCircleDotIconWithCaption',
            iconCaptionMaxWidth: '50'
        }));
}
    </script>
</body>

</html>